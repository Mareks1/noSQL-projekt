<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<meta name="generator" content="pandoc"/>
  <title>Technologie NoSQL</title>
  <link rel="stylesheet" href="../style/style.css">
</head>
<body>
	<div class = "return">
		<a href="../index.html">powrót</a>
	</div>
	<div class = "description">
		<h1 class="text-center">Zadanie 1 (EDA)</h1>
		</br>
		<p class="description-team">
			To zadanie zostało wykonane przez - Marek Białousz.
			</br>
			Przedstawiono
			</br>
			Zapytania w bazach danych <i>postgreSQL</i> oraz <i>elasticsearch</i>.
			</br>
			Czas wykonania oraz ilość zużytych zasobów.
			</br>
			Podsumowanie i porównanie użytych baz danych.
			</br>
			Opis danych oraz instrukcja.
		</p>
		<div class="menu">
			<ul>
				<li><a href="#iod">Informacje o danych</a></li>
				<li><a href="#iiko">Instalacja i konfiguracja oprogramowania</a></li>
				<ul>
					<li><a href="#iiko1">postgreSQL</a></li>
					<li><a href="#iiko2">jdk</a></li>
					<li><a href="#iiko3">python</a></li>
				</ul>
				<li><a href="#psql">PostgreSQL</a></li>
				<ul>
					<li><a href="#psql1">import danych</a></li>
					<li><a href="#psql2">przykładowy rekord</a></li>
					<li><a href="#psql3">ilość danych</a></li>
					<li><a href="#psql4">usuwanie danych</a></li>
					<li><a href="#psql5">wyświetlenie danych</a></li>
				</ul>
				<li><a href="#es">Elasticsearch</a></li>
				<ul>
					<li><a href="#es1">import danych</a></li>
					<li><a href="#es2">przykładowy rekord</a></li>
					<li><a href="#es3">ilość danych</a></li>
					<li><a href="#es4">usuwanie danych</a></li>
					<li><a href="#es5">wyświetlenie danych</a></li>
				</ul>
				<li><a href="#pod">Podsumowanie</a></li>
			</ul>
		</div>
		<h2 id="iod">Informacje o danych</h2>	
		<p class="description-data">
			Plik zawiera najnowsze dane (luty 2017) Krajowych Statystyk wyszukiwania kodu pocztowego dla Wielkiej Brytanii.
		</br>
			<a href="https://data.gov.uk/dataset/national-statistics-postcode-lookup-latest-centroids" target="_blank">National Statistics Postcode Lookup (Latest) Centroids</a>
		</br>
			Rozmiar: > 902 MB
		</br>
			Ilość: 2593613
		</p>
		</br>
		<h2 id="iiko">Instalacja i konfiguracja oprogramowania</h2>
		<h3 id="iiko1">postgreSQL</h3>
		<p>
			Baza, na której odbywały się badania - postrgeSQL.
		</br>
			Link do pobrania - <a href="https://www.enterprisedb.com/downloads/postgres-postgresql-downloads" target="_blank">TUTAJ</a>.
		</p>
		<h3 id="iiko2">jdk</h3>
		<p>
			Do badań na bazie elasticsearch potrzebny jest jdk.
		</br>
			Link do pobrania - <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank">TUTAJ</a>.
		</br>
			Konfiguracja zmiennych środowiskowych:
		</br>
			<div class="text-center">
				<i>Panel sterowania -> System -> Zmień ustawienia -> Zaawansowane (zakładka) -> Zmienne środowiskowe...</i>
			</div>
		</br>
			W <i>zmienne systemowe</i> szukamy zmiennej <i>JAVA_HOME</i> oraz sprawdzamy czy ścieżka
			jest ustawiona na zainstalowany przez z nas <i>jdk</i>.
		</br>
			Jeśli nie, zaznaczamy zmienną, klikamy <i>Edytuj...</i> oraz zmieniamy ścieżkę i ponownie uruchamiamy komputer.
		</p>
		<h3 id="iiko3">python</h3>
		<p>
			Python będzie potrzebny do uruchomienia skryptów.
		</br>
			Link do pobrania - <a href="https://www.python.org/downloads/windows/" target="_blank">TUTAJ</a>.
		</p>
		</br>
		<h2 id="psql">PostgreSQL</h2>
		<h3 id="psql1">import danych</h3>
		<p>
			1. Pobrać dane
		</br></br>
			2. Pobrać skrypt
		</br>
			Skrypt trzeba umieścić w folderze z danymi. Jest on potrzebny, ponieważ usunie znaki nie kodowane w <i>windows-1250</i> w cmd.
		</br>
			<div class="command">
				<code>
py s1.py
				</code>
			</div>
			3. Pobrać <i>pgfutter</i>, oraz zamień nazwę pobranego pliku na pgfutter.exe.
			Następnie zaimportować dane do postreSQL'a (wszystkie pliki w tym samym katalogu): 
			<div class="command">
				<code>
pgfutter --pass "[hasło]" --table "test" csv map.csv
				</code>
			</div>
		</br>
			Zużycie zasobów komputera podczas importu danych.
			<div class="text-center">
				<img src="../images/wydpsql.PNG" height="445em" width="500em">
			</div>
			<div class="description-image">Import danych do postreSQL</div>
		</br></br>
			Cały proces trwał ok. 4 min.
		</br>
			Po zakończeniu importu pojawił się komunikat o ilości zaimportowanych wierszy.
			<div class="text-center">
				<img src="../images/endimport.PNG" height="135em" width="1200em">
			</div>
			<div class="description-image">Import danych do postgreSQL</div>
		</br>
		</p>
		<h3 id="psql2">przykładowy rekord</h3>
		<p>
			Uruchamiamy serwer
			<div class="command">
				<code>
cd [ścieżka gdzie jest zainstalowany postgreSQL]\PostgreSQL\9.6\bin
				</code>
			</div>
			Następnie logowanie
			<div class="command">
				<code>
psql -U postgres
				</code>
			</div>
			</br></br>
		</p>
		<p>
			Polecenie aby wyświetlić przykładowe dane:
			<div class="command">
				<code>
select * from import.test limit 1;
				</code>
			</div>
			Wynik zapytania: 
			<div class="text-center">
				<img src="../images/1wpsql.PNG" height="350em" width="1200em">
			</div>
			<div class="description-image">Przykładowy rekord postreSQL</div>
		</p>
		<h3 id="psql3">ilość danych</h3>
		<p>
			1. Polecenie do wyświetlenia - jaka ilość danych została zaimportowana:
			<div class="command">
				<code>
select count(*) from import.test;
				</code>
			</div>
			2. Komunikat:
			<div class="text-center">
				<img src="../images/wiersze.PNG" height="130em" width="650em">
			</div>
			<div class="description-image">Ilość danych postreSQL</div>
			Czas wykonania zapytania - ok. 2 sekundy.
		</p>	
		<h3 id="psql4">usuwanie danych</h3>
		<p>
			Niektóre kolumny zawierają puste pola np. kolumny ze współrzędnymi <i>x</i> oraz <i>y</i>.
			</br>
			Polecenie do usunięcia:
			<div class="command">
				<code>
delete from import.test where x='' and y='';
				</code>
			</div>
			</br>
			<div class="text-center">
				<img src="../images/delete.PNG" height="130em" width="650em">
			</div>
			<div class="description-image">Ilość usuniętych pól w postreSQL</div>
			Czas wykonania zapytania - ok. 2 sekundy.
		</p>
		</br>
		<h2 id="es">Elasticsearch</h2>
		<h3 id="es1">import danych</h3>
		<p>
			TODO
		</p>
		<h3 id="es2">przykładowy rekord</h3>
		<p>
			TODO	
		</p>
		<h3 id="es3">ilość danych</h3>
		<p>
			TODO
		</p>	
		<h3 id="es4">usuwanie danych</h3>

			TODO
		</p>
		<h3 id="es5">wyświetlenie danych</h3>
		<p>
			TODO
		</p>
		<h2 id="pod">Podsumowanie</h2>
		TODO
	</br>
	<div class = "return">
		<a href="../index.html">powrót</a>
	</div>
</body>
